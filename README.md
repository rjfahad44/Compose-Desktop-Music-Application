
## Prerequisites

Before starting, ensure you have:

- **Inno Setup**: Download and install from [jrsoftware.org](https://jrsoftware.org/isdl.php). Use the latest stable version (e.g., 6.2.2).
- **IntelliJ IDEA**: Installed with your Music Player project configured (Kotlin, Compose Desktop).
- **Built App**: Your app built as a JAR (e.g., `music-player.jar`) or native executable via `./gradlew package`.
    - Run `./gradlew build` or `./gradlew package` to generate the JAR in `build/libs/` or executable in `build/compose/binaries/`.
- **Java Runtime (JRE)**: Required if your app is a JAR. Download a JRE (e.g., OpenJDK 21) or bundle it with [jpackage](https://docs.oracle.com/en/java/javase/21/docs/specs/man/jpackage.html).
- **Project Files**:
    - Main app JAR/executable.
    - Resources: `src/main/resources/images/ic_song.webp`.
    - Data: `user_tracks.json` (optional, created at runtime in `AppData\Roaming\MusicPlayer\`).
- **Windows Machine**: Inno Setup is Windows-only for compilation.

## step 1: Clone the project

```Copy
    https://github.com/rjfahad44/Compose-Desktop-Music-Application.git
```

## step 2: Download and Install IntelliJ

- **Link given below
- **Download Link: https://www.jetbrains.com/idea/download/?section=windows

## step 3: Open IntelliJ
 - **Open project then goto the ``Gradle`` and then Open ``Execute Gradle Task``
 - **Copy and past below command line.
 - ```
   gradlew createDistributable
   ```
   

## Step 4: Install Inno Setup

1. **Download Inno Setup**:
    - Visit [jrsoftware.org](https://jrsoftware.org/isdl.php) and download the installer (`innosetup-6.2.2.exe` or latest).
    - Run the installer and follow the wizard to install.

2. **Verify Installation**:
    - Open Inno Setup Compiler from the Start Menu.
    - Ensure you see the script editor (Compil32).

## Step 5: Create the Inno Setup Script

The Inno Setup script (`.iss`) defines how files are packaged, where they’re installed, and what shortcuts are created. Create a file named `music-player-setup.iss` in your project’s root directory.

### Sample `music-player-setup.iss`

```ini
    ; Script generated by the Inno Setup Script Wizard.
    #define MyAppName "MusicPlayer"
    #define MyAppVersion "1.0.0"
    #define MyAppPublisher "Muhammad Fahad Alam"
    #define MyAppExeName "MusicPlayer.exe" ; Confirm this matches the actual .exe name
    
    [Setup]
    AppName={#MyAppName}
    AppVersion={#MyAppVersion}
    AppPublisher={#MyAppPublisher}
    DefaultDirName={autopf}\{#MyAppName}
    DefaultGroupName={#MyAppName}
    OutputBaseFilename=MusicPlayerSetup
    Compression=lzma
    SolidCompression=yes
    ; Use .ico file, not .xml/.png/.jpg/.jpeg
    SetupIconFile=C:\Users\USER\Downloads\Compose-Desktop-App\src\main\resources\images\icon.ico
    PrivilegesRequired=admin
    
    [Languages]
    Name: "english"; MessagesFile: "compiler:Default.isl"
    
    [Tasks]
    Name: "desktopicon"; Description: "{cm:CreateDesktopIcon}"; GroupDescription: "{cm:AdditionalIcons}"; Flags: unchecked
    
    [Files]
    ; Update this path to match your actual distributable folder
    Source: "C:\Users\USER\Downloads\Compose-Desktop-App\build\compose\binaries\main\app\MusicPlayer\*"; DestDir: "{app}"; Flags: ignoreversion recursesubdirs createallsubdirs
    
    [Icons]
    ; Adjust path if .exe is not in bin/
    Name: "{group}\{#MyAppName}"; Filename: "{app}\{#MyAppExeName}"
    Name: "{autodesktop}\{#MyAppName}"; Filename: "{app}\{#MyAppExeName}"; Tasks: desktopicon
    
    [Run]
    ; Adjust path if .exe is not in bin/
    Filename: "{app}\{#MyAppExeName}"; Description: "{cm:LaunchProgram,{#StringChange(MyAppName, '&', '&&')}}"; Flags: nowait postinstall skipifsilent
```

## Step 6: Run the `music-player-setup.iss` file
- **Open Inno Setup Application
- **Goto File -> open -> inside project `music-player-setup.iss` file select then click `Open`
- **Goto Build -> Click Compile
- **Goto Run -> then Click `Run`
- **If Successfully Run Script then Generate `Output` Folder inside Project root folder, inside `Output` folder here generate a `MusicPlayerSetup.exe` file.
- **Install the `MusicPlayerSetup.exe` file and enjoy music.
